# Appendix IV: Entity table

This section compiles the entities (key-value pairs) described throughout this
specification, and establishes a common order within a filename.Â For example, if
a file has an acquisition and reconstruction label, the acquisition entity must
precede the reconstruction entity. REQUIRED and OPTIONAL entities for a given
file type are denoted. Entity formats indicate whether the value is alphanumeric
(`<label>`) or numeric (`<index>`).

A general introduction to entities is given in the section on
[file name structure](../02-common-principles.md#file-name-structure)

| Entity                                                                                         | Subject       | Session       | Task           | Acquisition   | Contrast Enhancing Agent | Reconstruction | Phase-Encoding Direction | Run           | Corresponding modality | Echo           | Recording           | Processed (on device) | Space           | Split           |
| :--------------------------------------------------------------------------------------------- | :------------ | :------------ | :------------- | :------------ | :----------------------- | :------------- | :----------------------- | :------------ | :--------------------- | :------------- | :------------------ | :-------------------- | :---------------| :-------------- |
| Format                                                                                         | `sub-<label>` | `ses-<label>` | `task-<label>` | `acq-<label>` | `ce-<label>`             | `rec-<label>`  | `dir-<label>`            | `run-<index>` | `mod-<label>`          | `echo-<index>` | `recording-<label>` | `proc-<label>`        | `space-<label>` | `split-<index>` |
| anat<br>(T1w T2w T1rho T1map T2map T2star FLAIR FLASH PD PDmap PDT2 inplaneT1 inplaneT2 angio) | REQUIRED      | REQUIRED*     |                | OPTIONAL      | OPTIONAL                 | OPTIONAL       |                          |               |                        |                |                     |                       |                 |                 |
| anat<br>(defacemask)                                                                           | REQUIRED      | REQUIRED*     |                | OPTIONAL      | OPTIONAL                 | OPTIONAL       |                          |               | OPTIONAL               |                |                     |                       |                 |                 |
| func<br>(bold cbv phase sbref events)                                                          | REQUIRED      | REQUIRED*     | REQUIRED       | OPTIONAL      | OPTIONAL                 | OPTIONAL       | OPTIONAL                 | OPTIONAL      |                        | OPTIONAL       |                     |                       |                 |                 |
| func<br>(physio stim)                                                                          | REQUIRED      | REQUIRED*     | REQUIRED       | OPTIONAL      |                          | OPTIONAL       |                          | OPTIONAL      |                        |                | OPTIONAL            | OPTIONAL              |                 |                 |
| dwi<br>(dwi bvec bval)                                                                         | REQUIRED      | REQUIRED*     |                | OPTIONAL      |                          |                | OPTIONAL                 | OPTIONAL      |                        |                |                     |                       |                 |                 |
| fmap<br>(phasediff phase1 phase2 magnitude1 magnitude2 magnitude fieldmap)                     | REQUIRED      | REQUIRED*     |                | OPTIONAL      |                          |                |                          | OPTIONAL      |                        |                |                     |                       |                 |                 |
| fmap<br>(epi)                                                                                  | REQUIRED      | REQUIRED*     |                | OPTIONAL      | OPTIONAL                 |                | REQUIRED                 | OPTIONAL      |                        |                |                     |                       |                 |                 |
| beh<br>(events stim physio)                                                                    | REQUIRED      | REQUIRED*     | REQUIRED       |               |                          |                |                          |               |                        |                |                     |                       |                 |                 |
| meg<br>                                                                                        | REQUIRED      | REQUIRED*     | REQUIRED       | OPTIONAL      |                          |                |                          | OPTIONAL      |                        |                |                     | OPTIONAL              |                 | OPTIONAL        |
| eeg<br>                                                                                        | REQUIRED      | REQUIRED*     | REQUIRED       | OPTIONAL      |                          |                |                          | OPTIONAL      |                        |                |                     |                       |                 |                 |
| ieeg<br>                                                                                       | REQUIRED      | REQUIRED*     | REQUIRED       | OPTIONAL      |                          |                |                          | OPTIONAL      |                        |                |                     |                       |                 |                 |
| channels<br>(meg/eeg/ieeg)                                                                     | REQUIRED      | REQUIRED*     | REQUIRED       |               |                          |                |                          | OPTIONAL      |                        |                |                     |                       |                 |                 |
| headshape<br>(meg)                                                                             | REQUIRED      | REQUIRED*     |                | OPTIONAL      |                          |                |                          |               |                        |                |                     |                       | OPTIONAL        |                 |
| markers<br>(meg)                                                                               | REQUIRED      | REQUIRED*     | OPTIONAL       | OPTIONAL      |                          |                |                          |               |                        |                |                     |                       | OPTIONAL        |                 |
| photo<br>(meg/eeg/ieeg)                                                                        | REQUIRED      | REQUIRED*     |                | OPTIONAL      |                          |                |                          |               |                        |                |                     |                       |                 |                 |        
| electrodes<br>(eeg/ieeg)                                                                       | REQUIRED      | REQUIRED*     |                | OPTIONAL      |                          |                |                          |               |                        |                |                     |                       | OPTIONAL        |                 |
| events<br>(meg/eeg/ieeg)                                                                       | REQUIRED      | REQUIRED*     | REQUIRED       |               |                          |                |                          | OPTIONAL      |                        |                |                     |                       |                 |                 |        

\*The session entity is REQUIRED when the session level is present in the folder structure.  It MUST NOT be used otherwise.
